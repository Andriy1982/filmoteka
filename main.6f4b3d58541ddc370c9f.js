(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,a){},"4TNw":function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){return'<form class="form-search">\r\n    <div class="form-search__wrap">\r\n        <i class="material-icons form-search__icon">search</i>\r\n        <input type="search" name="query" autocomplete="off" class="form-search__input"\r\n            placeholder="Write movie name and click Enter">\r\n        <p class="requirements form-search__requirements is-hidden">No movies were found. Check your\r\n            query!</p>\r\n    </div>\r\n</form>'},useData:!0})},"6iCx":function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){return'<nav class="navigation">\r\n  <a href="#" id="home" class="logotip js-logo">\r\n     <i class="material-icons material-icons-color md-40">theaters</i>\r\n      <span class="logotip__text">Filmoteka</span></a>\r\n  <ul class="navigation__list">\r\n    <li class="navigation__item">\r\n      <a href="#" class="navigation__link js-home" autofocus >HOME</a>\r\n    </li>\r\n    <li class="navigation__item">\r\n      <a href="#" class="navigation__link js-myLibrary">MY LIBRARY</a>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n'},useData:!0})},I59j:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,i){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <span class="details__description-item">'+e.escapeExpression(e.lambda(null!=t?l(t,"name"):t,t))+"</span>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="details__container">\r\n    <img class="details__img" src="'+u(typeof(r=null!=(r=d(a,"poster_path")||(null!=t?d(t,"poster_path"):t))?r:s)===c?r.call(o,{name:"poster_path",hash:{},data:i,loc:{start:{line:2,column:35},end:{line:2,column:50}}}):r)+'" alt="foto '+u(typeof(r=null!=(r=d(a,"original_title")||(null!=t?d(t,"original_title"):t))?r:s)===c?r.call(o,{name:"original_title",hash:{},data:i,loc:{start:{line:2,column:62},end:{line:2,column:80}}}):r)+'">\r\n    <div class="details__content-container">\r\n        <h2 class="details__title">'+u(typeof(r=null!=(r=d(a,"original_title")||(null!=t?d(t,"original_title"):t))?r:s)===c?r.call(o,{name:"original_title",hash:{},data:i,loc:{start:{line:4,column:35},end:{line:4,column:53}}}):r)+"("+u(typeof(r=null!=(r=d(a,"release_date")||(null!=t?d(t,"release_date"):t))?r:s)===c?r.call(o,{name:"release_date",hash:{},data:i,loc:{start:{line:4,column:54},end:{line:4,column:70}}}):r)+')</h2>\r\n        <ul class="details__list">\r\n            <li class="details__item"><span class="details__characteristic">vote/votes</span><span\r\n                    class="details__description">'+u(typeof(r=null!=(r=d(a,"vote_average")||(null!=t?d(t,"vote_average"):t))?r:s)===c?r.call(o,{name:"vote_average",hash:{},data:i,loc:{start:{line:7,column:49},end:{line:7,column:65}}}):r)+"/"+u(typeof(r=null!=(r=d(a,"vote_count")||(null!=t?d(t,"vote_count"):t))?r:s)===c?r.call(o,{name:"vote_count",hash:{},data:i,loc:{start:{line:7,column:66},end:{line:7,column:80}}}):r)+'</span></li>\r\n            <li class="details__item"><span class="details__characteristic">popularity</span><span\r\n                    class="details__description">'+u(typeof(r=null!=(r=d(a,"popularity")||(null!=t?d(t,"popularity"):t))?r:s)===c?r.call(o,{name:"popularity",hash:{},data:i,loc:{start:{line:9,column:49},end:{line:9,column:63}}}):r)+'</span></li>\r\n            <li class="details__item"><span class="details__characteristic">original title</span><span\r\n                    class="details__description">'+u(typeof(r=null!=(r=d(a,"original_title")||(null!=t?d(t,"original_title"):t))?r:s)===c?r.call(o,{name:"original_title",hash:{},data:i,loc:{start:{line:11,column:49},end:{line:11,column:67}}}):r)+'</span></li>\r\n            <li class="details__item"><span class="details__characteristic">genre</span>\r\n                <span class="details__description">\r\n'+(null!=(l=d(a,"each").call(o,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:14,column:20},end:{line:16,column:29}}}))?l:"")+'                </span>\r\n            </li>\r\n        </ul>\r\n\r\n        <h2 class="details__about">About</h2>\r\n        <p class="details__text-about">'+u(typeof(r=null!=(r=d(a,"overview")||(null!=t?d(t,"overview"):t))?r:s)===c?r.call(o,{name:"overview",hash:{},data:i,loc:{start:{line:22,column:39},end:{line:22,column:51}}}):r)+'</p>\r\n\r\n        <div class="details__button-container">\r\n            <button class="details__button-watched"></button>\r\n            <button class="details__button-queue"></button>\r\n        </div>\r\n    </div>\r\n</div>'},useData:!0})},QfWi:function(e,t,a){"use strict";a.r(t);a("0HMw"),a("8cZI"),a("JBxO"),a("FdtR"),a("Muwe"),a("aZFp");var n=a("XVCe"),i=a.n(n),l=a("6iCx"),r=a.n(l),o={header:document.querySelector("#root-header"),footer:document.querySelector("#root-footer"),homePage:document.querySelector("#root-home-page"),myFilmLibraryPage:document.querySelector("#root-my-film-library-page"),detailsPage:document.querySelector("#root-details-page"),form:null,libraryList:document.querySelector(".library-list"),linkHome:null,linkMyLibrary:null,linkLogo:null,homeList:document.querySelector(".home-page-list"),watchedBtn:null,queueBtn:null},s=(a("Anew"),a("lYjL"),a("IlJM"),a("IvQZ"),a("WB5j"),a("4NM0"),a("I59j")),c=a.n(s),u=null,d=function(e){var t=e.find((function(e){return e.id===u.id}));if(t)return t.id},m=function(){var e=document.querySelector(".details__button-watched"),t=document.querySelector(".details__button-queue");e.addEventListener("click",h),t.addEventListener("click",p);var a=JSON.parse(localStorage.getItem("filmsQueue")),n=JSON.parse(localStorage.getItem("filmsWatched"));a&&a.length&&d(a)===u.id?t.innerHTML='<i class="material-icons details__icons">event_busy</i> Delete from queue':t.innerHTML='<i class="material-icons details__icons">event_busy</i> Add to queue',n&&n.length&&d(n)===u.id?e.innerHTML='<i class="material-icons details__icons">videocam</i> Delete from watched':e.innerHTML='<i class="material-icons details__icons">videocam</i> Add to watched'},p=function(){var e,t=[],a=JSON.parse(localStorage.getItem("filmsQueue"));a&&(e=t).push.apply(e,a),a&&a.length&&d(a)?t=t.filter((function(e){return e.id!==u.id})):t.push(u),localStorage.setItem("filmsQueue",JSON.stringify(t)),m()},h=function(){var e,t=[],a=JSON.parse(localStorage.getItem("filmsWatched"));a&&(e=t).push.apply(e,a),a&&a.length&&d(a)?t=t.filter((function(e){return e.id!==u.id})):t.push(u),localStorage.setItem("filmsWatched",JSON.stringify(t)),m()},g=(a("fp7Y"),a("fPhO")),f=a.n(g),_=(a("lmye"),a("R5ye")),v=a.n(_),b="81f248d3c9154788229a5419bb33091a",y="https://api.themoviedb.org",L=function(e,t,a){return fetch(e+"/3/movie/popular?api_key="+a+"&language=en-US&page="+t+"&include_adult=false").then((function(e){return e.json()}))},P=function(e){return e.map((function(e){var t=e.backdrop_path,a=e.poster_path,n=e.release_date;e.release_date=void 0===n||""===n?"unknown":e.release_date.slice(0,4);return e.backdrop_path="string"!=typeof t?"string"!=typeof a?"./images/temp.png":"https://image.tmdb.org/t/p/w500/"+a:"https://image.tmdb.org/t/p/w500/"+t,e}))},k=a("QJ3N"),S=(a("bzha"),a("WSJ9"));a("mFSj"),a("JauC");function w(e,t){o.libraryList.innerHTML="";var a=JSON.parse(localStorage.getItem(e));if(a&&a.length){var n=f()(a);o.libraryList.insertAdjacentHTML("beforeend",n),o.libraryList.removeEventListener("click",q),o.libraryList.addEventListener("click",q)}else Object(k.notice)(t)}function q(e){"LI"===e.target.nodeName&&(o.queueBtn.classList.contains("library-btn--active")?j("filmsQueue",e):j("filmsWatched",e))}function j(e,t){var a=JSON.parse(localStorage.getItem(e)).find((function(e){return e.id===Number(t.target.dataset.itemid)}));z(a)}function A(){x(o.watchedBtn),N(o.queueBtn);w("filmsQueue","You do not have to queue movies to watch. Add them.")}function M(){x(o.queueBtn),N(o.watchedBtn);w("filmsWatched","You do not have watched movies. Add them")}function N(e){e.classList.add("library-btn--active")}function x(e){e.classList.remove("library-btn--active")}k.defaults.styling="material",k.defaults.icons="material",k.defaults.delay=1500,k.defaults.width="300px",k.defaultModules.set(S,{});a("wcNg");var H=a("wht2");function O(e,t,a,n,i,l,r){try{var o=e[l](r),s=o.value}catch(e){return void a(e)}o.done?t(s):Promise.resolve(s).then(n,i)}var T=null,E=null,I=null,J=null,B=null,C={isStartGlobalPage:!0,setStartPage:function(){this.isStartGlobalPage=!0,null!==B&&(B.classList.add("is-hidden"),T.reset())},setSomePage:function(){this.isStartGlobalPage=!1}},D=Object(H.debounce)((function(e){return V(e)}),1e3);function F(){L(y,G.pageNumb,"81f248d3c9154788229a5419bb33091a").then((function(e){Y(e);var t=e.results;o.homePage.querySelector(".home-page-list").innerHTML=v()(P(t)),J.innerHTML=G.pageNumb}))}function W(){C.isStartGlobalPage?(G.incrementPage(),F(),I.removeAttribute("disabled")):(G.incrementPage(),R(),I.removeAttribute("disabled"))}function Q(){C.isStartGlobalPage?(!1===G.isStartPage&&(G.decrementPage(),F()),1===G.pageNumb&&I.setAttribute("disabled","disabled")):(!1===G.isStartPage&&(G.decrementPage(),R()),1===G.pageNumb&&I.setAttribute("disabled","disabled"))}function V(e){e.preventDefault(),G.resetPage();var t=new FormData(T).get("query");if(!t)return F(),void C.setStartPage();G.inputValue=t,R(),C.setSomePage()}function Y(e){var t=e.page===e.total_pages,a=1===e.page;t?E.setAttribute("disabled","disabled"):E.removeAttribute("disabled"),a?I.setAttribute("disabled","disabled"):I.removeAttribute("disabled")}function R(){G.fetchFilms().then((function(e){if(B=o.homePage.querySelector(".form-search__requirements"),0===e.length?(B.classList.remove("is-hidden"),E.setAttribute("disabled","disabled")):B.classList.add("is-hidden")," "!==G.inputValue){var t=0===e.length?"":v()(P(e));o.homePage.querySelector(".home-page-list").innerHTML=t,J.innerHTML=G.pageNumb}}))}var G={isStartPage:!0,inputValue:"",pageNumb:1,fetchFilms:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=81f248d3c9154788229a5419bb33091a&language=en-US&query="+t.inputValue+"&page="+t.pageNumb+"&include_adult=false");case 3:return a=e.sent,e.next=6,a.json();case 6:return Y(n=e.sent),e.abrupt("return",n.results);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,a=arguments;return new Promise((function(n,i){var l=e.apply(t,a);function r(e){O(l,n,i,r,o,"next",e)}function o(e){O(l,n,i,r,o,"throw",e)}r(void 0)}))})()},resetPage:function(){this.pageNumb=1},incrementPage:function(){this.pageNumb++,this.isStartPage=!1},decrementPage:function(){this.pageNumb--,1===this.pageNumb&&(this.isStartPage=!0)},get query(){return this.inputValue},set query(e){this.inputValue=e}},Z=function(){o.linkHome.classList.add("isActivLinkNavigation"),o.homePage.classList.remove("notActivePage"),o.myFilmLibraryPage.classList.add("notActivePage"),o.detailsPage.classList.add("notActivePage"),o.linkHome.classList.add("navigation__link--active"),o.linkMyLibrary.classList.remove("navigation__link--active"),history.pushState({page:"/home"},"title 1","/home")},z=function(e){if(o.homePage.classList.add("notActivePage"),o.myFilmLibraryPage.classList.add("notActivePage"),o.detailsPage.classList.remove("notActivePage"),u=function(e){var t=e.backdrop_path;if("string"!=typeof e.backdrop_path)e.backdrop_path="./images/temp.png";else{if(t.includes("https://image.tmdb.org/t/p/w500"))return e.backdrop_path=t,e;if(t.includes("./images/temp.png"))return e.backdrop_path=t,e;e.backdrop_path="https://image.tmdb.org/t/p/w500"+e.backdrop_path}return e}(function(e){var t=e.poster_path;if("string"!=typeof e.poster_path)e.poster_path="./images/temp.png";else{if(t.includes("https://image.tmdb.org/t/p/original"))return e.poster_path=t,e;if(t.includes("./images/temp.png"))return e.poster_path=t,e;e.poster_path="https://image.tmdb.org/t/p/original"+e.poster_path}return e}(function(e){return e.release_date?e.release_date=e.release_date.slice(0,4):e.release_date="unknown",e}(e))),o.detailsPage.innerHTML=c()(u),m(),e.original_title){var t=e.original_title.toLowerCase().split(" ").join("-");history.pushState({page:"/movied"},"title 3","/movied="+t)}};function U(e){var t=e.target;e.currentTarget;if("LI"===t.nodeName){var a=t.dataset.itemid;fetch(y+"/3/movie/"+a+"?api_key="+b+"&language=en-US").then((function(e){return e.json()})).then((function(e){z(e)}))}}function K(){o.myFilmLibraryPage.classList.remove("notActivePage"),o.detailsPage.classList.add("notActivePage"),o.homePage.classList.add("notActivePage"),o.linkMyLibrary.classList.add("navigation__link--active"),o.linkHome.classList.remove("navigation__link--active"),history.pushState({page:"/library"},"title 2","/library"),A()}function X(){Z()}function $(){F(),C.setStartPage(),Z()}a("tYy4"),a("Z6zm");var ee,te=a("4TNw"),ae=a.n(te),ne=a("uNVK"),ie=a.n(ne),le=a("i+AN"),re=a.n(le);o.header.insertAdjacentHTML("afterbegin",r()()),ee=ae.a,o.homePage.insertAdjacentHTML("afterbegin",ee()),function(e){o.homePage.insertAdjacentHTML("beforeend",e())}(ie.a),o.footer.insertAdjacentHTML("afterbegin",i()()),o.linkLogo=o.header.querySelector(".js-logo"),o.linkHome=o.header.querySelector(".js-home"),o.linkMyLibrary=o.header.querySelector(".js-myLibrary"),o.linkLogo.addEventListener("click",$),o.linkHome.addEventListener("click",X),o.linkMyLibrary.addEventListener("click",K),o.homeList.addEventListener("click",U),function(e){!function(e){o.myFilmLibraryPage.insertAdjacentHTML("afterbegin",e())}(e),o.watchedBtn=document.querySelector(".watched"),o.queueBtn=document.querySelector(".queue"),o.watchedBtn.addEventListener("click",M),o.queueBtn.addEventListener("click",A)}(re.a),L(y,1,b).then((function(e){var t,a=e.results;v.a,t=P(a),o.homePage.querySelector("ul").innerHTML=v()(t),o.homePage.querySelector(".page").innerHTML=1})),history.pushState({page:"/home"},"title 1","/home"),(T=o.homePage.querySelector("form")).addEventListener("submit",V),T.elements.query.addEventListener("input",D),E=o.homePage.querySelector(".button-next"),I=o.homePage.querySelector(".button-prev"),J=o.homePage.querySelector(".page"),E.addEventListener("click",W),I.addEventListener("click",Q),G.isStartPage&&I.setAttribute("disabled","disabled")},R5ye:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="home-page-list_item" data-itemId="'+c(typeof(l=null!=(l=u(a,"id")||(null!=t?u(t,"id"):t))?l:o)===s?l.call(r,{name:"id",hash:{},data:i,loc:{start:{line:2,column:45},end:{line:2,column:51}}}):l)+'">\r\n    <div class="item-overlov">\r\n    </div>\r\n    <h2 class="home-page-list_item-title">'+c(typeof(l=null!=(l=u(a,"original_title")||(null!=t?u(t,"original_title"):t))?l:o)===s?l.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:5,column:42},end:{line:5,column:62}}}):l)+" ("+c(typeof(l=null!=(l=u(a,"release_date")||(null!=t?u(t,"release_date"):t))?l:o)===s?l.call(r,{name:"release_date",hash:{},data:i,loc:{start:{line:5,column:64},end:{line:5,column:82}}}):l)+')</h2>\r\n    <img src="'+c(typeof(l=null!=(l=u(a,"backdrop_path")||(null!=t?u(t,"backdrop_path"):t))?l:o)===s?l.call(r,{name:"backdrop_path",hash:{},data:i,loc:{start:{line:6,column:14},end:{line:6,column:31}}}):l)+'" alt="'+c(typeof(l=null!=(l=u(a,"original_title")||(null!=t?u(t,"original_title"):t))?l:o)===s?l.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:6,column:38},end:{line:6,column:56}}}):l)+'" class="home-page-list_item-image">\r\n</li>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(a,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?l:""},useData:!0})},XVCe:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){return'<div class="footer__content">\r\n  <div class="footer__box">\r\n    <p class="footer__team-name">Made by </p>\r\n    <img src="./images/footer_logo/me_logo.png" alt="command logo" class="command_logo">\r\n  </div>\r\n  <a href="#home" class="scroll-up">\r\n    <i class="material-icons material-icons-white">keyboard_arrow_up</i>\r\n  </a>\r\n</div>'},useData:!0})},Z6zm:function(e,t,a){e.exports=a.p+"images/footer_logo/me_logo.png"},fPhO:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="home-page-list_item" data-itemId="'+c(typeof(l=null!=(l=u(a,"id")||(null!=t?u(t,"id"):t))?l:o)===s?l.call(r,{name:"id",hash:{},data:i,loc:{start:{line:2,column:45},end:{line:2,column:51}}}):l)+'">\r\n    <div class="item-overlov">\r\n    </div>\r\n    <h2 class="home-page-list_item-title">'+c(typeof(l=null!=(l=u(a,"original_title")||(null!=t?u(t,"original_title"):t))?l:o)===s?l.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:5,column:42},end:{line:5,column:62}}}):l)+" ("+c(typeof(l=null!=(l=u(a,"release_date")||(null!=t?u(t,"release_date"):t))?l:o)===s?l.call(r,{name:"release_date",hash:{},data:i,loc:{start:{line:5,column:64},end:{line:5,column:82}}}):l)+')</h2>\r\n    <img src="'+c(typeof(l=null!=(l=u(a,"backdrop_path")||(null!=t?u(t,"backdrop_path"):t))?l:o)===s?l.call(r,{name:"backdrop_path",hash:{},data:i,loc:{start:{line:6,column:14},end:{line:6,column:31}}}):l)+'" alt="'+c(typeof(l=null!=(l=u(a,"original_title")||(null!=t?u(t,"original_title"):t))?l:o)===s?l.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:6,column:38},end:{line:6,column:56}}}):l)+'" class="home-page-list_item-image">\r\n    <p class="home-page-list_item-rateblock"> '+c(typeof(l=null!=(l=u(a,"vote_average")||(null!=t?u(t,"vote_average"):t))?l:o)===s?l.call(r,{name:"vote_average",hash:{},data:i,loc:{start:{line:7,column:46},end:{line:7,column:62}}}):l)+" </p>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(a,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?l:""},useData:!0})},"i+AN":function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){return"<div class=\"library-btn-wrap\">\r\n    <div class=\"container library-buttons\">\r\n        <button class='watched library-btn'>Watched</button>\r\n        <button class='queue library-btn'>Queue</button>\r\n    </div>\r\n</div>"},useData:!0})},tYy4:function(e,t,a){e.exports=a.p+"images/temp.png"},uNVK:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,n,i){return'<div class="pagination-wrap">\r\n    <div class="pagination">\r\n        <button class="button button-prev pagination__btn">Prev</button>\r\n        <span class="page pagination__btn" id="page"></span>\r\n        <button class="button button-next pagination__btn">Next</button>\r\n    </div>\r\n</div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.6f4b3d58541ddc370c9f.js.map